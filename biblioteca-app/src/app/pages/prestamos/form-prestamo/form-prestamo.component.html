<h2 mat-dialog-title>Registrar Pr√©stamo</h2>

<form [formGroup]="prestamoForm" (ngSubmit)="guardarPrestamo()" class="prestamo-form">
  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Usuario</mat-label>
    <mat-select formControlName="usuarioId">
      <mat-option *ngFor="let usuario of usuarios" [value]="usuario.id">
        {{ usuario.nombre }} ({{ usuario.cedula }})
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Libro</mat-label>
    <mat-select formControlName="libroId">
      <mat-option *ngFor="let libro of libros" [value]="libro.id">
        {{ libro.titulo }} - {{ libro.autor }} ({{ libro.unidades }} disponibles)
      </mat-option>
    </mat-select>
  </mat-form-field>

  <div class="actions">
    <button mat-raised-button type="button" class="btn-cancelar" (click)="dialogRef.close()">Cancelar</button>
    <button mat-raised-button
      [ngClass]="{ 'btn-guardar-disabled': prestamoForm.invalid, 'btn-guardar-active': !prestamoForm.invalid }"
      type="submit" [disabled]="prestamoForm.invalid">
      Guardar
    </button>
  </div>
</form>