<div class="historial-container">
  <h2>üìñ Historial de Pr√©stamos</h2>

  <!-- Contenedor con scroll -->
  <div class="tabla-scroll">
    <table mat-table [dataSource]="historialPrestamos" class="tabla-historial mat-elevation-z8">
      <ng-container matColumnDef="usuario">
        <th mat-header-cell *matHeaderCellDef> Usuario </th>
        <td mat-cell *matCellDef="let prestamo"> {{ prestamo.usuario.nombre }} </td>
      </ng-container>

      <ng-container matColumnDef="libro">
        <th mat-header-cell *matHeaderCellDef> Libro </th>
        <td mat-cell *matCellDef="let prestamo"> {{ prestamo.libro.titulo }} </td>
      </ng-container>

      <ng-container matColumnDef="fechaPrestamo">
        <th mat-header-cell *matHeaderCellDef> Fecha Pr√©stamo </th>
        <td mat-cell *matCellDef="let prestamo"> {{ prestamo.fechaPrestamo }} </td>
      </ng-container>

      <ng-container matColumnDef="fechaDevolucion">
        <th mat-header-cell *matHeaderCellDef> Fecha Devoluci√≥n </th>
        <td mat-cell *matCellDef="let prestamo"> {{ prestamo.fechaDevolucion }} </td>
      </ng-container>

      <ng-container matColumnDef="estado">
        <th mat-header-cell *matHeaderCellDef> Estado </th>
        <td mat-cell *matCellDef="let prestamo">
          <span [ngClass]="prestamo.estado === 'PRESTADO' ? 'estado-prestado' : 'estado-devuelto'">
            {{ prestamo.estado }}
          </span>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>

  <button mat-raised-button class="cerrar-btn" (click)="cerrarVentana()">Cerrar</button>
</div>

